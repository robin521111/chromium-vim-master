<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rVim æœç´¢åŠŸèƒ½ä¸“é¡¹æµ‹è¯•</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        .content {
            padding: 40px;
        }
        .test-section {
            margin: 30px 0;
            padding: 25px;
            border: 2px solid #ecf0f1;
            border-radius: 10px;
            background: #f8f9fa;
        }
        .test-section h2 {
            color: #2c3e50;
            margin-top: 0;
            display: flex;
            align-items: center;
        }
        .test-section h2::before {
            content: 'ğŸ”';
            margin-right: 10px;
            font-size: 1.2em;
        }
        .test-item {
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #e74c3c;
        }
        .shortcut {
            background: #34495e;
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-weight: bold;
        }
        .status {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            margin-left: 10px;
        }
        .status.pending { background: #f39c12; color: white; }
        .status.testing { background: #3498db; color: white; }
        .status.passed { background: #27ae60; color: white; }
        .status.failed { background: #e74c3c; color: white; }
        .search-content {
            background: #fff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            border: 2px solid #ecf0f1;
        }
        .highlight-demo {
            background: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
        }
        .instructions {
            background: #e8f5e8;
            border: 1px solid #27ae60;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #856404;
        }
        .regex-examples {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
        }
        .text-sample {
            columns: 2;
            column-gap: 30px;
            text-align: justify;
            margin: 20px 0;
        }
        .control-panel {
            background: #e3f2fd;
            border: 2px solid #2196f3;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        button {
            margin: 5px;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        .btn-primary { background: #3498db; color: white; }
        .btn-success { background: #27ae60; color: white; }
        .btn-warning { background: #f39c12; color: white; }
        .btn-danger { background: #e74c3c; color: white; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ” rVim æœç´¢åŠŸèƒ½ä¸“é¡¹æµ‹è¯•</h1>
            <p>å…¨é¢æµ‹è¯•é¡µé¢å†…æœç´¢ã€æ­£åˆ™è¡¨è¾¾å¼ã€é«˜äº®æ˜¾ç¤ºç­‰åŠŸèƒ½</p>
            <div id="extension-status" class="status pending">ğŸ”„ æ£€æŸ¥æ‰©å±•çŠ¶æ€ä¸­...</div>
        </div>
        
        <div class="content">
            <div class="instructions">
                <h3>ğŸ“‹ æœç´¢åŠŸèƒ½æµ‹è¯•è¯´æ˜</h3>
                <p>æœ¬é¡µé¢ä¸“é—¨ç”¨äºæµ‹è¯• rVim çš„æœç´¢åŠŸèƒ½ã€‚è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š</p>
                <ol>
                    <li>ç¡®ä¿ rVim æ‰©å±•å·²æ­£ç¡®å®‰è£…å¹¶å¯ç”¨</li>
                    <li>ä½¿ç”¨ <span class="shortcut">/</span> é”®å¼€å§‹æœç´¢</li>
                    <li>è¾“å…¥æœç´¢å…³é”®è¯å¹¶æŒ‰å›è½¦</li>
                    <li>ä½¿ç”¨ <span class="shortcut">n</span> å’Œ <span class="shortcut">N</span> åœ¨ç»“æœé—´å¯¼èˆª</li>
                    <li>æµ‹è¯•ä¸åŒçš„æœç´¢æ¨¡å¼å’Œé€‰é¡¹</li>
                </ol>
            </div>

            <div class="control-panel">
                <h3>ğŸ® æœç´¢æµ‹è¯•æ§åˆ¶é¢æ¿</h3>
                <p>
                    <button class="btn-primary" onclick="startSearchTest('åŸºç¡€æœç´¢')">ğŸ” å¼€å§‹åŸºç¡€æœç´¢æµ‹è¯•</button>
                    <button class="btn-warning" onclick="startSearchTest('æ­£åˆ™è¡¨è¾¾å¼æœç´¢')">ğŸ“ å¼€å§‹æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•</button>
                    <button class="btn-success" onclick="checkSearchResults()">ğŸ“Š æŸ¥çœ‹æœç´¢ç»“æœ</button>
                    <button class="btn-danger" onclick="exportSearchTestResults()">ğŸ’¾ å¯¼å‡ºæµ‹è¯•ç»“æœ</button>
                </p>
                <p><strong>æç¤ºï¼š</strong> æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹è¯¦ç»†çš„æœç´¢æµ‹è¯•æ—¥å¿—</p>
            </div>

            <div class="test-section">
                <h2>åŸºç¡€æœç´¢åŠŸèƒ½æµ‹è¯•</h2>
                
                <div class="test-item">
                    <h3>æœç´¢æ¨¡å¼æ¿€æ´» <span class="status pending">å¾…æµ‹è¯•</span></h3>
                    <p><strong>æµ‹è¯•æ­¥éª¤ï¼š</strong> æŒ‰ <span class="shortcut">/</span> é”®æ¿€æ´»æœç´¢æ¨¡å¼</p>
                    <p><strong>é¢„æœŸç»“æœï¼š</strong> åº”è¯¥æ˜¾ç¤ºæœç´¢è¾“å…¥æ¡†æˆ–æœç´¢æç¤º</p>
                    <p><strong>æµ‹è¯•å…³é”®è¯ï¼š</strong> "æµ‹è¯•"ã€"search"ã€"åŠŸèƒ½"</p>
                </div>
                
                <div class="test-item">
                    <h3>æœç´¢é«˜äº®æ˜¾ç¤º <span class="status pending">å¾…æµ‹è¯•</span></h3>
                    <p><strong>æµ‹è¯•æ­¥éª¤ï¼š</strong> æœç´¢ "æµ‹è¯•" å…³é”®è¯</p>
                    <p><strong>é¢„æœŸç»“æœï¼š</strong> é¡µé¢ä¸­æ‰€æœ‰ "æµ‹è¯•" æ–‡å­—åº”è¯¥è¢«é«˜äº®æ˜¾ç¤º</p>
                </div>
                
                <div class="test-item">
                    <h3>æœç´¢ç»“æœå¯¼èˆª <span class="status pending">å¾…æµ‹è¯•</span></h3>
                    <p><strong>æµ‹è¯•æ­¥éª¤ï¼š</strong> æœç´¢åä½¿ç”¨ <span class="shortcut">n</span> (ä¸‹ä¸€ä¸ª) å’Œ <span class="shortcut">N</span> (ä¸Šä¸€ä¸ª)</p>
                    <p><strong>é¢„æœŸç»“æœï¼š</strong> åº”è¯¥èƒ½å¤Ÿåœ¨ä¸åŒçš„æœç´¢ç»“æœä¹‹é—´è·³è½¬</p>
                </div>
            </div>

            <div class="test-section">
                <h2>å¤§å°å†™æ•æ„Ÿæ€§æµ‹è¯•</h2>
                
                <div class="test-item">
                    <h3>å¤§å°å†™ä¸æ•æ„Ÿæœç´¢ <span class="status pending">å¾…æµ‹è¯•</span></h3>
                    <p><strong>æµ‹è¯•æ­¥éª¤ï¼š</strong> æœç´¢ "TEST" (å¤§å†™)</p>
                    <p><strong>é¢„æœŸç»“æœï¼š</strong> åº”è¯¥åŒ¹é… "test"ã€"Test"ã€"TEST" ç­‰ä¸åŒå¤§å°å†™å½¢å¼</p>
                </div>
                
                <div class="search-content">
                    <h4>å¤§å°å†™æµ‹è¯•æ ·æœ¬æ–‡æœ¬ï¼š</h4>
                    <p>è¿™é‡ŒåŒ…å«å„ç§å¤§å°å†™çš„ <span class="highlight-demo">test</span> å•è¯ï¼š</p>
                    <ul>
                        <li>å°å†™ï¼štest, testing, tester</li>
                        <li>é¦–å­—æ¯å¤§å†™ï¼šTest, Testing, Tester</li>
                        <li>å…¨å¤§å†™ï¼šTEST, TESTING, TESTER</li>
                        <li>æ··åˆå¤§å°å†™ï¼štEsT, TeStInG, tEsTeR</li>
                    </ul>
                </div>
            </div>

            <div class="test-section">
                <h2>æ­£åˆ™è¡¨è¾¾å¼æœç´¢æµ‹è¯•</h2>
                
                <div class="warning">
                    <strong>âš ï¸ æ³¨æ„ï¼š</strong> æ­£åˆ™è¡¨è¾¾å¼åŠŸèƒ½éœ€è¦åœ¨ rVim è®¾ç½®ä¸­å¯ç”¨ã€‚å¦‚æœä¸æ”¯æŒï¼Œè¿™äº›æµ‹è¯•å¯èƒ½ä¼šå¤±è´¥ã€‚
                </div>
                
                <div class="test-item">
                    <h3>ç®€å•æ­£åˆ™è¡¨è¾¾å¼ <span class="status pending">å¾…æµ‹è¯•</span></h3>
                    <p><strong>æµ‹è¯•æ­¥éª¤ï¼š</strong> æœç´¢æ­£åˆ™è¡¨è¾¾å¼ <span class="shortcut">\d+</span> (åŒ¹é…æ•°å­—)</p>
                    <p><strong>é¢„æœŸç»“æœï¼š</strong> åº”è¯¥é«˜äº®æ˜¾ç¤ºé¡µé¢ä¸­çš„æ‰€æœ‰æ•°å­—</p>
                </div>
                
                <div class="test-item">
                    <h3>å¤æ‚æ­£åˆ™è¡¨è¾¾å¼ <span class="status pending">å¾…æµ‹è¯•</span></h3>
                    <p><strong>æµ‹è¯•æ­¥éª¤ï¼š</strong> æœç´¢ <span class="shortcut">[a-zA-Z]+@[a-zA-Z]+\.[a-zA-Z]+</span> (åŒ¹é…é‚®ç®±)</p>
                    <p><strong>é¢„æœŸç»“æœï¼š</strong> åº”è¯¥é«˜äº®æ˜¾ç¤ºé‚®ç®±åœ°å€</p>
                </div>
                
                <div class="regex-examples">
                    <h4>æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•æ ·æœ¬ï¼š</h4>
                    <p>æ•°å­—æµ‹è¯•ï¼š123, 456, 789, 2024, 3.14, 99.99</p>
                    <p>é‚®ç®±æµ‹è¯•ï¼šuser@example.com, test@gmail.com, admin@company.org</p>
                    <p>ç”µè¯æµ‹è¯•ï¼š(123) 456-7890, 555-1234, +1-800-555-0199</p>
                    <p>URLæµ‹è¯•ï¼šhttps://www.google.com, http://github.com, ftp://files.example.com</p>
                </div>
            </div>

            <div class="test-section">
                <h2>æœç´¢æ€§èƒ½å’Œè¾¹ç•Œæµ‹è¯•</h2>
                
                <div class="test-item">
                    <h3>é•¿æ–‡æ¡£æœç´¢ <span class="status pending">å¾…æµ‹è¯•</span></h3>
                    <p><strong>æµ‹è¯•æ­¥éª¤ï¼š</strong> åœ¨ä¸‹æ–¹é•¿æ–‡æ¡£ä¸­æœç´¢ "æ€§èƒ½"</p>
                    <p><strong>é¢„æœŸç»“æœï¼š</strong> æœç´¢åº”è¯¥å¿«é€Ÿå®Œæˆå¹¶æ­£ç¡®é«˜äº®æ‰€æœ‰åŒ¹é…é¡¹</p>
                </div>
                
                <div class="test-item">
                    <h3>ç‰¹æ®Šå­—ç¬¦æœç´¢ <span class="status pending">å¾…æµ‹è¯•</span></h3>
                    <p><strong>æµ‹è¯•æ­¥éª¤ï¼š</strong> æœç´¢ç‰¹æ®Šå­—ç¬¦å¦‚ "@"ã€"#"ã€"$"ã€"%"</p>
                    <p><strong>é¢„æœŸç»“æœï¼š</strong> åº”è¯¥èƒ½å¤Ÿæ­£ç¡®æœç´¢å’Œé«˜äº®ç‰¹æ®Šå­—ç¬¦</p>
                </div>
                
                <div class="test-item">
                    <h3>ç©ºæœç´¢å’Œæ¸…é™¤ <span class="status pending">å¾…æµ‹è¯•</span></h3>
                    <p><strong>æµ‹è¯•æ­¥éª¤ï¼š</strong> æŒ‰ <span class="shortcut">Esc</span> æˆ–æ¸…ç©ºæœç´¢</p>
                    <p><strong>é¢„æœŸç»“æœï¼š</strong> æ‰€æœ‰é«˜äº®åº”è¯¥è¢«æ¸…é™¤ï¼Œæœç´¢æ¨¡å¼é€€å‡º</p>
                </div>
            </div>

            <div class="search-content">
                <h3>ğŸ“„ é•¿æ–‡æ¡£æœç´¢æµ‹è¯•å†…å®¹</h3>
                <div class="text-sample">
                    <p>rVim æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Chrome æµè§ˆå™¨æ‰©å±•ï¼Œå®ƒä¸ºç½‘é¡µæµè§ˆå¸¦æ¥äº† Vim é£æ ¼çš„é”®ç›˜å¯¼èˆªä½“éªŒã€‚è¿™ä¸ªæ‰©å±•çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€å°±æ˜¯é«˜æ•ˆçš„é¡µé¢å†…æœç´¢åŠŸèƒ½ï¼Œå®ƒä¸ä»…æ”¯æŒåŸºæœ¬çš„æ–‡æœ¬æœç´¢ï¼Œè¿˜æä¾›äº†æ­£åˆ™è¡¨è¾¾å¼æœç´¢ã€å¤§å°å†™æ•æ„Ÿæ§åˆ¶ç­‰é«˜çº§ç‰¹æ€§ã€‚</p>
                    
                    <p>æœç´¢åŠŸèƒ½çš„<span class="highlight-demo">æ€§èƒ½</span>ä¼˜åŒ–æ˜¯ rVim å¼€å‘å›¢é˜Ÿçš„é‡ç‚¹å…³æ³¨é¢†åŸŸã€‚é€šè¿‡ä½¿ç”¨é«˜æ•ˆçš„ç®—æ³•å’Œä¼˜åŒ–çš„æ•°æ®ç»“æ„ï¼ŒrVim èƒ½å¤Ÿåœ¨åŒ…å«å¤§é‡æ–‡æœ¬çš„ç½‘é¡µä¸­å¿«é€Ÿå®šä½æœç´¢ç»“æœã€‚æ— è®ºæ˜¯æœç´¢å•ä¸ªå•è¯ã€çŸ­è¯­ï¼Œè¿˜æ˜¯å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ï¼ŒrVim éƒ½èƒ½æä¾›æµç•…çš„æœç´¢ä½“éªŒã€‚</p>
                    
                    <p>åœ¨æµ‹è¯•æœç´¢åŠŸèƒ½æ—¶ï¼Œæˆ‘ä»¬éœ€è¦éªŒè¯ä»¥ä¸‹å‡ ä¸ªå…³é”®æ–¹é¢ï¼šé¦–å…ˆæ˜¯æœç´¢çš„å‡†ç¡®æ€§ï¼Œç¡®ä¿æ‰€æœ‰åŒ¹é…çš„æ–‡æœ¬éƒ½èƒ½è¢«æ­£ç¡®è¯†åˆ«å’Œé«˜äº®æ˜¾ç¤ºï¼›å…¶æ¬¡æ˜¯æœç´¢çš„<span class="highlight-demo">æ€§èƒ½</span>ï¼Œå³ä½¿åœ¨é•¿æ–‡æ¡£ä¸­ä¹Ÿèƒ½å¿«é€Ÿå“åº”ï¼›ç¬¬ä¸‰æ˜¯æœç´¢ç»“æœçš„å¯¼èˆªåŠŸèƒ½ï¼Œç”¨æˆ·åº”è¯¥èƒ½å¤Ÿè½»æ¾åœ°åœ¨ä¸åŒçš„åŒ¹é…ç»“æœä¹‹é—´è·³è½¬ã€‚</p>
                    
                    <p>ç‰¹æ®Šå­—ç¬¦çš„å¤„ç†ä¹Ÿæ˜¯æœç´¢åŠŸèƒ½æµ‹è¯•çš„é‡è¦éƒ¨åˆ†ã€‚rVim éœ€è¦èƒ½å¤Ÿæ­£ç¡®å¤„ç†å„ç§ç‰¹æ®Šå­—ç¬¦ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š@ # $ % ^ & * ( ) - _ + = [ ] { } | \ : ; " ' < > , . ? / ~ `ã€‚è¿™äº›å­—ç¬¦åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­å¯èƒ½æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œæœç´¢åŠŸèƒ½å¿…é¡»èƒ½å¤Ÿå‡†ç¡®è¯†åˆ«å’ŒåŒ¹é…å®ƒä»¬ã€‚</p>
                    
                    <p>æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ˜¯ rVim çš„é«˜çº§åŠŸèƒ½ä¹‹ä¸€ï¼Œå®ƒå…è®¸ç”¨æˆ·ä½¿ç”¨å¼ºå¤§çš„æ¨¡å¼åŒ¹é…æ¥æŸ¥æ‰¾å¤æ‚çš„æ–‡æœ¬ç»“æ„ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·å¯ä»¥æœç´¢æ‰€æœ‰çš„é‚®ç®±åœ°å€ã€ç”µè¯å·ç ã€URL é“¾æ¥ç­‰ã€‚è¿™ç§åŠŸèƒ½å¯¹äºå¼€å‘è€…å’Œé«˜çº§ç”¨æˆ·æ¥è¯´ç‰¹åˆ«æœ‰ç”¨ï¼Œå› ä¸ºå®ƒå¤§å¤§æé«˜äº†ä¿¡æ¯æ£€ç´¢çš„æ•ˆç‡å’Œç²¾ç¡®åº¦ã€‚</p>
                    
                    <p>æœç´¢ç»“æœçš„é«˜äº®æ˜¾ç¤ºæ˜¯ç”¨æˆ·ä½“éªŒçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚rVim ä½¿ç”¨é†’ç›®çš„é¢œè‰²å’Œæ ·å¼æ¥æ ‡è®°åŒ¹é…çš„æ–‡æœ¬ï¼Œç¡®ä¿ç”¨æˆ·èƒ½å¤Ÿå¿«é€Ÿè¯†åˆ«æœç´¢ç»“æœã€‚åŒæ—¶ï¼Œå½“å‰é€‰ä¸­çš„æœç´¢ç»“æœä¼šä½¿ç”¨ä¸åŒçš„é«˜äº®æ ·å¼ï¼Œå¸®åŠ©ç”¨æˆ·äº†è§£å½“å‰çš„ä½ç½®ã€‚</p>
                    
                    <p>åœ¨è¿›è¡Œ<span class="highlight-demo">æ€§èƒ½</span>æµ‹è¯•æ—¶ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨åŒ…å«æ•°åƒä¸ªå•è¯çš„é•¿æ–‡æ¡£æ¥éªŒè¯æœç´¢åŠŸèƒ½çš„å“åº”é€Ÿåº¦ã€‚å³ä½¿åœ¨è¿™æ ·çš„æ–‡æ¡£ä¸­ï¼ŒrVim çš„æœç´¢åŠŸèƒ½ä¹Ÿåº”è¯¥èƒ½å¤Ÿåœ¨æ¯«ç§’çº§åˆ«å†…å®Œæˆæœç´¢å¹¶æ˜¾ç¤ºç»“æœã€‚è¿™ç§å¿«é€Ÿå“åº”å¯¹äºæä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒè‡³å…³é‡è¦ã€‚</p>
                    
                    <p>æœç´¢åŠŸèƒ½çš„å¯ç”¨æ€§æµ‹è¯•ä¹Ÿå¾ˆé‡è¦ã€‚ç”¨æˆ·ç•Œé¢åº”è¯¥ç›´è§‚æ˜“ç”¨ï¼Œæœç´¢å¿«æ·é”®åº”è¯¥ç¬¦åˆ Vim ç”¨æˆ·çš„ä¹ æƒ¯ã€‚æœç´¢æ¨¡å¼çš„è¿›å…¥å’Œé€€å‡ºåº”è¯¥æµç•…è‡ªç„¶ï¼Œä¸ä¼šå¹²æ‰°ç”¨æˆ·çš„æ­£å¸¸æµè§ˆä½“éªŒã€‚</p>
                    
                    <p>æœ€åï¼Œæœç´¢åŠŸèƒ½çš„å…¼å®¹æ€§æµ‹è¯•ç¡®ä¿å®ƒèƒ½å¤Ÿåœ¨å„ç§ä¸åŒçš„ç½‘é¡µç¯å¢ƒä¸­æ­£å¸¸å·¥ä½œã€‚æ— è®ºæ˜¯é™æ€ HTML é¡µé¢ã€åŠ¨æ€ç”Ÿæˆçš„å†…å®¹ï¼Œè¿˜æ˜¯å¤æ‚çš„å•é¡µåº”ç”¨ç¨‹åºï¼ŒrVim çš„æœç´¢åŠŸèƒ½éƒ½åº”è¯¥èƒ½å¤Ÿå¯é åœ°å·¥ä½œã€‚</p>
                    
                    <p>é€šè¿‡å…¨é¢çš„æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿ rVim çš„æœç´¢åŠŸèƒ½ä¸ä»…åŠŸèƒ½å®Œæ•´ï¼Œè€Œä¸”<span class="highlight-demo">æ€§èƒ½</span>ä¼˜å¼‚ï¼Œä¸ºç”¨æˆ·æä¾›æœ€ä½³çš„æœç´¢ä½“éªŒã€‚è¿™ç§ä¸¥æ ¼çš„æµ‹è¯•æ–¹æ³•æ˜¯ç¡®ä¿è½¯ä»¶è´¨é‡çš„å…³é”®ï¼Œä¹Ÿæ˜¯ rVim é¡¹ç›®æˆåŠŸçš„é‡è¦å› ç´ ã€‚</p>
                </div>
            </div>

            <div class="search-content">
                <h3>ğŸ¯ ç‰¹æ®Šå­—ç¬¦æµ‹è¯•åŒºåŸŸ</h3>
                <p>ç‰¹æ®Šå­—ç¬¦æ ·æœ¬ï¼š@ # $ % ^ & * ( ) - _ + = [ ] { } | \ : ; " ' < > , . ? / ~ `</p>
                <p>é‚®ç®±åœ°å€ï¼šadmin@example.com, user@test.org, support@company.net</p>
                <p>ä»·æ ¼ä¿¡æ¯ï¼š$19.99, â‚¬25.50, Â¥100, Â£15.75</p>
                <p>ç™¾åˆ†æ¯”ï¼š50%, 75%, 100%, 25.5%</p>
                <p>ç¼–ç¨‹ç¬¦å·ï¼šfunction() { return true; }, array[0], object.property</p>
            </div>
        </div>
    </div>

    <!-- åŠ è½½æµ‹è¯•æ‰§è¡Œè„šæœ¬ -->
    <script src="test_execution_script.js"></script>
    
    <script>
        // æœç´¢åŠŸèƒ½ä¸“é¡¹æµ‹è¯•å™¨
        class SearchFunctionTester {
            constructor() {
                this.searchTests = {};
                this.currentSearchTest = null;
                this.init();
            }

            init() {
                console.log('ğŸ” æœç´¢åŠŸèƒ½æµ‹è¯•å™¨åˆå§‹åŒ–ä¸­...');
                this.checkSearchCapabilities();
                this.setupSearchEventListeners();
            }

            checkSearchCapabilities() {
                const capabilities = {
                    'Findå¯¹è±¡': window.Find,
                    'æœç´¢è®¾ç½®': window.settings && window.settings.search,
                    'HUDæ˜¾ç¤º': window.HUD,
                    'é«˜äº®åŠŸèƒ½': window.Find && window.Find.highlight
                };

                console.log('ğŸ” æœç´¢åŠŸèƒ½æ£€æŸ¥ç»“æœ:');
                Object.entries(capabilities).forEach(([name, exists]) => {
                    const status = exists ? 'âœ…' : 'âŒ';
                    console.log(`${status} ${name}: ${exists ? 'å¯ç”¨' : 'ä¸å¯ç”¨'}`);
                });

                return Object.values(capabilities).some(Boolean);
            }

            setupSearchEventListeners() {
                // ç›‘å¬æœç´¢ç›¸å…³çš„é”®ç›˜äº‹ä»¶
                document.addEventListener('keydown', (e) => {
                    if (!e.target.matches('input, textarea')) {
                        this.handleSearchKeyPress(e);
                    }
                });

                // ç›‘å¬æœç´¢é«˜äº®å˜åŒ–
                const observer = new MutationObserver((mutations) => {
                    mutations.forEach((mutation) => {
                        if (mutation.type === 'childList' || mutation.type === 'attributes') {
                            this.detectSearchHighlights();
                        }
                    });
                });

                observer.observe(document.body, {
                    childList: true,
                    subtree: true,
                    attributes: true,
                    attributeFilter: ['class', 'style']
                });
            }

            handleSearchKeyPress(e) {
                const searchKeys = {
                    '/': 'å¼€å§‹æœç´¢',
                    'n': 'ä¸‹ä¸€ä¸ªæœç´¢ç»“æœ',
                    'N': 'ä¸Šä¸€ä¸ªæœç´¢ç»“æœ',
                    'Escape': 'é€€å‡ºæœç´¢æ¨¡å¼'
                };

                if (searchKeys[e.key]) {
                    console.log(`ğŸ” æœç´¢å¿«æ·é”®: ${e.key} (${searchKeys[e.key]})`);
                    this.recordSearchAction(e.key, searchKeys[e.key]);
                }
            }

            detectSearchHighlights() {
                // æ£€æµ‹é¡µé¢ä¸­çš„æœç´¢é«˜äº®å…ƒç´ 
                const highlightSelectors = [
                    '.highlight',
                    '.search-highlight', 
                    '.find-highlight',
                    '[style*="background"]',
                    '.cVim-search-highlight'
                ];

                let highlightCount = 0;
                highlightSelectors.forEach(selector => {
                    const elements = document.querySelectorAll(selector);
                    highlightCount += elements.length;
                });

                if (highlightCount > 0) {
                    console.log(`ğŸ¯ æ£€æµ‹åˆ° ${highlightCount} ä¸ªæœç´¢é«˜äº®å…ƒç´ `);
                    this.recordSearchHighlight(highlightCount);
                }
            }

            recordSearchAction(key, action) {
                if (!this.searchTests.actions) {
                    this.searchTests.actions = [];
                }

                this.searchTests.actions.push({
                    key,
                    action,
                    timestamp: Date.now()
                });
            }

            recordSearchHighlight(count) {
                if (!this.searchTests.highlights) {
                    this.searchTests.highlights = [];
                }

                this.searchTests.highlights.push({
                    count,
                    timestamp: Date.now()
                });
            }

            startSearchTest(testName) {
                this.currentSearchTest = testName;
                console.log(`ğŸ§ª å¼€å§‹æœç´¢æµ‹è¯•: ${testName}`);
                
                if (window.tester) {
                    window.tester.startTest(`æœç´¢åŠŸèƒ½-${testName}`);
                }

                // æ›´æ–°UIçŠ¶æ€
                this.updateTestStatus(testName, 'testing');
            }

            endSearchTest(testName, status, notes = []) {
                console.log(`âœ… æœç´¢æµ‹è¯•å®Œæˆ: ${testName} (${status})`);
                
                if (window.tester) {
                    window.tester.endTest(`æœç´¢åŠŸèƒ½-${testName}`, status, notes);
                }

                this.updateTestStatus(testName, status);
                this.currentSearchTest = null;
            }

            updateTestStatus(testName, status) {
                const statusElements = document.querySelectorAll('.status');
                statusElements.forEach(el => {
                    const testItem = el.closest('.test-item');
                    if (testItem && testItem.querySelector('h3').textContent.includes(testName)) {
                        el.className = `status ${status}`;
                        el.textContent = status === 'passed' ? 'âœ… é€šè¿‡' : 
                                       status === 'failed' ? 'âŒ å¤±è´¥' : 
                                       status === 'testing' ? 'ğŸ”„ æµ‹è¯•ä¸­' : 'â³ å¾…æµ‹è¯•';
                    }
                });
            }

            getSearchTestResults() {
                return {
                    searchTests: this.searchTests,
                    currentTest: this.currentSearchTest,
                    summary: this.generateSearchSummary()
                };
            }

            generateSearchSummary() {
                return {
                    totalActions: this.searchTests.actions ? this.searchTests.actions.length : 0,
                    totalHighlights: this.searchTests.highlights ? this.searchTests.highlights.length : 0,
                    lastActivity: Math.max(
                        ...(this.searchTests.actions || []).map(a => a.timestamp),
                        ...(this.searchTests.highlights || []).map(h => h.timestamp)
                    )
                };
            }
        }

        // åˆ›å»ºæœç´¢æµ‹è¯•å™¨å®ä¾‹
        window.searchTester = new SearchFunctionTester();

        // æµ‹è¯•æ§åˆ¶å‡½æ•°
        function startSearchTest(testName) {
            window.searchTester.startSearchTest(testName);
        }

        function checkSearchResults() {
            const results = window.searchTester.getSearchTestResults();
            console.log('ğŸ“Š æœç´¢æµ‹è¯•ç»“æœ:', results);
            return results;
        }

        function exportSearchTestResults() {
            const results = checkSearchResults();
            const blob = new Blob([JSON.stringify(results, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `search-test-results-${new Date().toISOString().slice(0, 19).replace(/:/g, '-')}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            console.log('ğŸ’¾ æœç´¢æµ‹è¯•ç»“æœå·²å¯¼å‡º');
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // æ£€æŸ¥æ‰©å±•çŠ¶æ€
            setTimeout(() => {
                const extensionLoaded = window.tester && window.tester.checkExtensionStatus();
                const statusElement = document.getElementById('extension-status');
                if (statusElement) {
                    if (extensionLoaded) {
                        statusElement.innerHTML = 'ğŸŸ¢ æ‰©å±•å·²åŠ è½½ï¼Œå¯ä»¥å¼€å§‹æœç´¢æµ‹è¯•';
                        statusElement.className = 'status passed';
                    } else {
                        statusElement.innerHTML = 'ğŸ”´ æ‰©å±•æœªåŠ è½½ï¼Œè¯·æ£€æŸ¥å®‰è£…çŠ¶æ€';
                        statusElement.className = 'status failed';
                    }
                }

                console.log('ğŸ¯ æœç´¢åŠŸèƒ½æµ‹è¯•é¡µé¢å·²å°±ç»ª');
                console.log('ğŸ’¡ ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæµ‹è¯•:');
                console.log('  - startSearchTest("æµ‹è¯•å") - å¼€å§‹ç‰¹å®šæœç´¢æµ‹è¯•');
                console.log('  - checkSearchResults() - æŸ¥çœ‹æœç´¢æµ‹è¯•ç»“æœ');
                console.log('  - exportSearchTestResults() - å¯¼å‡ºæœç´¢æµ‹è¯•ç»“æœ');
            }, 1500);
        });
    </script>
</body>
</html>